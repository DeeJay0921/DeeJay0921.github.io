<!DOCTYPE html>
<html>
  <!-- Html Head Tag-->
  <head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content>
  <meta name="author" content="DeeJay">
  <!-- Open Graph Data -->
  <meta property="og:title" content="Java中的包装类,以及自动装箱和拆箱">
  <meta property="og:description" content="web前端 Java后端">
  <meta property="og:site_name" content="DeeJay&#39;s Blog">
  <meta property="og:type" content="article">
  <meta property="og:image" content="https://deejay0921.github.io">
  
    <link rel="alternate" href="/atom.xml" title="DeeJay&#39;s Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.jpg">
  

  <!-- Site Title -->
  <title>DeeJay's Blog</title>

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="/css/bootstrap.min.css">
  <!-- Custom CSS -->
  
  <link rel="stylesheet" href="/css/style.light.css">

  <!-- Google Analytics -->
  

</head>

  <body>
    <!-- Page Header -->


<header class="site-header header-background" style="background-image: url(/img/blog-banner2.png)">
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <div class="page-title with-background-image">
          <p class="title">Java中的包装类,以及自动装箱和拆箱</p>
          <p class="subtitle"></p>
        </div>
        <div class="site-menu with-background-image">
          <ul>
            
              <li>
                <a href="/">
                  
                  Home
                  
                </a>
              </li>
            
              <li>
                <a href="/archives">
                  
                  Archives
                  
                </a>
              </li>
            
              <li>
                <a href="https://github.com/DeeJay0921">
                  
                  Github
                  
                </a>
              </li>
            
              <li>
                <a href="mailto:1018805743@qq.com">
                  
                  Email
                  
                </a>
              </li>
            
          </ul>
        </div>
      </div>
    </div>
  </div>
</header>

<article>
  <div class="container typo">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <div class="post-info text-muted">
          
            <!-- Author -->
            <span class="author info">By DeeJay</span>
          
          <!-- Date -->
          <span class="date-time info">On
            <span class="date">2018-07-21</span>
            <span class="time">18:00:32</span>
          </span>
          
          <!--  Categories  -->
            <span class="categories info">Under 

<a href="/categories/Java/">Java</a>
</span>
          
        </div>
        <!-- Tags -->
        
          <div class="post-tags text-muted">
            Tags: 

<a class="tag" href="/tags/Java/">#Java</a> <a class="tag" href="/tags/包装类/">#包装类</a>


          </div>
        
        <!-- Post Main Content -->
        <div class="post-content">
          <p>Java中的包装类,以及自动装箱和拆箱</p>
<a id="more"></a>

<h3 id="包装类"><a href="#包装类" class="headerlink" title="包装类"></a>包装类</h3><p>由于基本类型只能做一些简单的操作和运算，所以Java又封装了各种基本类型，提供了包装类。</p>
<p>包装类提供了更多复杂的方法和变量。</p>
<p>来给出各个基本类型的包装类型</p>
<table>
<thead>
<tr>
<th>基本类型</th>
<th>包装类型</th>
</tr>
</thead>
<tbody><tr>
<td>byte</td>
<td>Byte</td>
</tr>
<tr>
<td>short</td>
<td>Short</td>
</tr>
<tr>
<td>char</td>
<td>Character</td>
</tr>
<tr>
<td>int</td>
<td>Integer</td>
</tr>
<tr>
<td>long</td>
<td>Long</td>
</tr>
<tr>
<td>float</td>
<td>Float</td>
</tr>
<tr>
<td>double</td>
<td>Double</td>
</tr>
<tr>
<td>boolean</td>
<td>Boolean</td>
</tr>
</tbody></table>
<p>以Integer为例说明：</p>
<h4 id="类型转换"><a href="#类型转换" class="headerlink" title="类型转换"></a>类型转换</h4><p>String ===&gt; int</p>
<ol>
<li><code>int intValue()</code></li>
<li><code>static int parseInt(String s)</code></li>
</ol>
<p>int ===&gt; String</p>
<ol>
<li><code>+ &quot;&quot;</code></li>
<li><code>String toString()</code></li>
<li><code>static String toString(int i)</code></li>
</ol>
<p>###自动装箱和拆箱</p>
<p>来看一些自动装箱拆箱的例子</p>
<p><code>Integer i = 10;</code>这句代码就是自动装箱，相当于<code>Integer i = new Integer(10);</code></p>
<p><code>Integer i  = 10; int a = i;</code> 这句给a赋值i的语句，就是自动拆箱。相当于<code>int a = i.intValue();</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Integer i1 = 10;</span><br><span class="line">Integer i2 = 20;</span><br><span class="line">Integer i3 = i1 + i2;</span><br></pre></td></tr></table></figure>

<p>前2句是自动装箱，第3句是先拆箱求和之后再装箱，相当于<code>Integer  i3 = new Integer(i1.intValue() + i2.intValue());</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ArrayList li = new ArrayList ();</span><br><span class="line">li.add(1); // 相当于li.add(new Integer(i))</span><br></pre></td></tr></table></figure>

<h2 id="关于自动装箱的意义和可能引发的问题"><a href="#关于自动装箱的意义和可能引发的问题" class="headerlink" title="关于自动装箱的意义和可能引发的问题"></a>关于自动装箱的意义和可能引发的问题</h2><ol>
<li>自动装箱给了基础类型一些额外的方法</li>
<li>另外对于ArrayList&lt;&gt;等容器，是只接受基础类型的</li>
<li>对于引用类型的话，可以赋值为null</li>
</ol>
<blockquote>
<p>针对可能赋值为null的这个情况，有些时候可能引发NullPointerException</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">public static void main(String[] args) &#123;</span><br><span class="line">        Integer a = null;</span><br><span class="line">        int b = a; // java.lang.NullPointerException</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h2 id="自动装箱类型的比较"><a href="#自动装箱类型的比较" class="headerlink" title="自动装箱类型的比较"></a>自动装箱类型的比较</h2><p>原始类型可以直接使用<code>==</code>来进行比较，而装箱类型必须使用<code>equals()</code>方法进行比较：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">public static void main(String[] args) &#123;</span><br><span class="line">        Integer c = 1000;</span><br><span class="line">        Integer d = 1000;</span><br><span class="line">        System.out.println(c == d); // false</span><br><span class="line">        System.out.println(c.equals(d)); // true</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>另外 Integer等是不可变的，这意味着你在进行如下操作时，其实是创建了一个新的number对象：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">public static void main(String[] args) &#123;</span><br><span class="line">        Integer number = 1000; // Integer@969</span><br><span class="line">        number = number + 1; // Integer@970  debug状态下可以看到number存储的地址已经发生了改变</span><br><span class="line">        System.out.println(&quot;number = &quot; + number);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Interger的缓存机制（详情搜IntegerCache），其实对于-128 =&gt; 127范围之间的数字，Integer内部做了缓存，是可以直接==判断相等的。</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">public static void main(String[] args) &#123;</span><br><span class="line">    Integer c = -128;</span><br><span class="line">    Integer d = -128;</span><br><span class="line">    System.out.println(c == d); // true</span><br><span class="line">    </span><br><span class="line">    Integer e = 127;</span><br><span class="line">    Integer f = 127;</span><br><span class="line">    System.out.println(e == f); // true</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


        </div>
      </div>
    </div>
  </div>
</article>



    <!-- Footer -->
<footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <p class="copyright text-muted">
          Theme By <a target="_blank" href="https://github.com/levblanc">Levblanc.</a>
          Inspired By <a target="_blank" href="https://github.com/klugjo/hexo-theme-clean-blog">Clean Blog.</a>
        <p class="copyright text-muted">
          Powered By <a target="_blank" href="https://hexo.io/">Hexo.</a>
        </p>
      </div>
    </div>
  </div>
</footer>


    <!-- After Footer Scripts -->
<script src="/js/highlight.pack.js"></script>
<script>
  document.addEventListener("DOMContentLoaded", function(event) {
    var codeBlocks = Array.prototype.slice.call(document.getElementsByTagName('pre'))
    codeBlocks.forEach(function(block, index) {
      hljs.highlightBlock(block);
    });
  });
</script>

  </body>
</html>

