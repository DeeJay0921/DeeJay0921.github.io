<!DOCTYPE html>
<html>
  <!-- Html Head Tag-->
  <head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content>
  <meta name="author" content="DeeJay">
  <!-- Open Graph Data -->
  <meta property="og:title" content="Java中的面向对象的简单介绍（二）static以及代码块">
  <meta property="og:description" content="web前端 Java后端">
  <meta property="og:site_name" content="DeeJay&#39;s Blog">
  <meta property="og:type" content="article">
  <meta property="og:image" content="https://deejay0921.github.io">
  
    <link rel="alternate" href="/atom.xml" title="DeeJay&#39;s Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.jpg">
  

  <!-- Site Title -->
  <title>DeeJay's Blog</title>

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="/css/bootstrap.min.css">
  <!-- Custom CSS -->
  
  <link rel="stylesheet" href="/css/style.light.css">

  <!-- Google Analytics -->
  

</head>

  <body>
    <!-- Page Header -->


<header class="site-header header-background" style="background-image: url(/img/blog-banner2.png)">
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <div class="page-title with-background-image">
          <p class="title">Java中的面向对象的简单介绍（二）static以及代码块</p>
          <p class="subtitle"></p>
        </div>
        <div class="site-menu with-background-image">
          <ul>
            
              <li>
                <a href="/">
                  
                  Home
                  
                </a>
              </li>
            
              <li>
                <a href="/archives">
                  
                  Archives
                  
                </a>
              </li>
            
              <li>
                <a href="https://github.com/DeeJay0921">
                  
                  Github
                  
                </a>
              </li>
            
              <li>
                <a href="mailto:1018805743@qq.com">
                  
                  Email
                  
                </a>
              </li>
            
          </ul>
        </div>
      </div>
    </div>
  </div>
</header>

<article>
  <div class="container typo">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <div class="post-info text-muted">
          
            <!-- Author -->
            <span class="author info">By DeeJay</span>
          
          <!-- Date -->
          <span class="date-time info">On
            <span class="date">2018-07-18</span>
            <span class="time">01:29:23</span>
          </span>
          
          <!--  Categories  -->
            <span class="categories info">Under 

<a href="/categories/Java/">Java</a>
</span>
          
        </div>
        <!-- Tags -->
        
          <div class="post-tags text-muted">
            Tags: 

<a class="tag" href="/tags/Java/">#Java</a> <a class="tag" href="/tags/面向对象/">#面向对象</a>


          </div>
        
        <!-- Post Main Content -->
        <div class="post-content">
          <p>Java中的面向对象的简单介绍（二）static以及代码块</p>
<a id="more"></a>

<h3 id="static-关键字"><a href="#static-关键字" class="headerlink" title="static 关键字"></a>static 关键字</h3><ul>
<li><p>用途<br>可以用于修饰成员变量和成员方法。</p>
</li>
<li><p>特点</p>
<ul>
<li><p>修饰的成员变量/方法，可以被<strong>同类所有的对象所共享</strong>。<br>来看例子：现有Person类，其创建出来的2个对象p1,p2，当中的成员属性school都是一样的，但是每次创建的时候都需要重新赋值，对于这种情况，可以使用<code>static</code>修饰成员变量。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">public class Person &#123;</span><br><span class="line"> String name;</span><br><span class="line"> String school;</span><br><span class="line">	</span><br><span class="line"> public void show() &#123;</span><br><span class="line">   System.out.println(name + &quot;---&quot; + school);</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public class StaticIntro &#123;</span><br><span class="line"> public static void main(String[] args) &#123;</span><br><span class="line"> 	Person p1 = new Person();</span><br><span class="line">   	p1.name = &quot;Yang&quot;;</span><br><span class="line">  p1.scholl = &quot;XiDian&quot;;</span><br><span class="line">  p1.show(); // Yang---XiDian</span><br><span class="line">		</span><br><span class="line"> 	Person p2 = new Person();</span><br><span class="line"> 	p2.name = &quot;DeeJay&quot;;</span><br><span class="line"> 	p2.scholl = &quot;XiDian&quot;;</span><br><span class="line"> 	p2.show(); // DeeJay---XiDian</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">public class Person &#123;</span><br><span class="line">	String name;</span><br><span class="line">	static String school;</span><br><span class="line"></span><br><span class="line">	public void show() &#123;</span><br><span class="line">		System.out.println(name + &quot;---&quot; + school);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">public class StaticIntro &#123;</span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		Person p1 = new Person();</span><br><span class="line">		p1.name = &quot;Yang&quot;;</span><br><span class="line">		p1.scholl = &quot;XiDian&quot;;</span><br><span class="line">		p1.show(); // Yang---XiDian</span><br><span class="line"></span><br><span class="line">		Person p2 = new Person();</span><br><span class="line">		p2.name = &quot;DeeJay&quot;;</span><br><span class="line">		//p2.scholl = &quot;XiDian&quot;; // 不需要再次重复的进行成员变量的赋值，static修饰的成员变量是所有对象共享的，p1有了p2就有了</span><br><span class="line">		p2.show(); // DeeJay---XiDian</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>可以使用类名调用。<br>在上述例子中，其实static修饰的成员属性，是可以通过类名调用的。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">public class Person &#123;</span><br><span class="line">	String name;</span><br><span class="line">	static String school;</span><br><span class="line"></span><br><span class="line">	public void show() &#123;</span><br><span class="line">		System.out.println(name + &quot;---&quot; + school);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">public class StaticIntro &#123;</span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		Person p1 = new Person();</span><br><span class="line">		p1.name = &quot;Yang&quot;;</span><br><span class="line">		Person.scholl = &quot;XiDian&quot;; // 直接使用类名来进行赋值</span><br><span class="line">		p1.show(); // Yang---XiDian</span><br><span class="line"></span><br><span class="line">		Person p2 = new Person();</span><br><span class="line">		p2.name = &quot;DeeJay&quot;;</span><br><span class="line">		//p2.scholl = &quot;XiDian&quot;; // 不需要再次重复的进行成员变量的赋值，static修饰的成员变量是所有对象共享的，p1有了p2就有了</span><br><span class="line">		p2.show(); // DeeJay---XiDian</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>static是<strong>随着类的加载就已经加载了的，要比创建对象更早</strong>。</p>
</li>
</ul>
</li>
<li><p>使用static的注意事项</p>
<ul>
<li><p>静态方法<strong>只能</strong>访问静态成员(包括静态的成员方法和静态的成员变量)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">public class Person &#123;</span><br><span class="line">	String name;</span><br><span class="line">	static String school;</span><br><span class="line"></span><br><span class="line">	public static void showSchool () &#123; // 静态的方法 </span><br><span class="line">		System.out.println(school); // 内部访问类中静态的成员属性</span><br><span class="line">		sleep(); // 内部访问类中静态的成员方法</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	public static void sleep() &#123;</span><br><span class="line">		System.out.println(&quot;sleeping~&quot;);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">public class StaticIntro &#123;</span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		Person.school = &quot;XiDian&quot;;</span><br><span class="line">		Person.showSchool(); // XiDian</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>注意<strong>不可以调用没有static修饰的成员</strong></p>
</li>
<li><p>非静态方法<strong>既可以访问静态也可以访问非静态</strong>（对象已经创建了，当然都能访问）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">public class Person &#123;</span><br><span class="line">	String name;</span><br><span class="line">	static String school;</span><br><span class="line"></span><br><span class="line">	public static void showSchool () &#123; // 静态的方法 </span><br><span class="line">		System.out.println(school); // 内部访问类中静态的成员属性</span><br><span class="line">		sleep(); // 内部访问类中静态的成员方法</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	public static void sleep() &#123;</span><br><span class="line">		System.out.println(&quot;sleeping~&quot;);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	public void showInfo () &#123; // 非static在对象创建好之后才存在  这时候的成员都可以通过对象访问(不管静态非静态) 内部也有this </span><br><span class="line">		System.out.println(name + &quot;---&quot; + school);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">public class StaticIntro &#123;</span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		Person.school = &quot;XiDian&quot;;</span><br><span class="line">		Person.showSchool(); // XiDian</span><br><span class="line">		</span><br><span class="line">		Person p1 = new Person();</span><br><span class="line">		p1.name = &quot;Yang&quot;;</span><br><span class="line">		p1.showInfo(); // Yang---XiDian</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>另外，<code>static</code>修饰的方法中，是<strong>没有</strong><code>this</code>的（对象都没创建，当然没this）</p>
</li>
</ul>
</li>
<li><p>static的优点</p>
<ul>
<li>对对象的共享数据提供单独空间的存储，节省空间，没有必要对每一个对象都存储一份</li>
<li>可以直接通过类名进行调用，不用在堆中创建对象</li>
</ul>
</li>
<li><p>static的缺点</p>
<ul>
<li>访问出现局限性(static只能访问static)</li>
</ul>
</li>
<li><p>应用场景</p>
<ul>
<li>比如说Math工具类，所有的方法都是static的，不需要创建对象(其实构造方法已经被私有了，想创建对象都不行)就可以通过类来进行操作。</li>
</ul>
</li>
</ul>
<h3 id="通过static，自定义一个工具类"><a href="#通过static，自定义一个工具类" class="headerlink" title="通过static，自定义一个工具类"></a>通过static，自定义一个工具类</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">public class MyArray &#123;</span><br><span class="line">	private MyArray () &#123;&#125; // 私有化构造方法  即禁止创建对象</span><br><span class="line">	</span><br><span class="line">	// 返回int[] 中的最大值</span><br><span class="line">	public static int max (int[] arr) &#123;</span><br><span class="line">		int max = arr[0];</span><br><span class="line">		for(int i = 0; i &lt; arr.length; i ++) &#123;</span><br><span class="line">			if(max &lt; arr[i]) &#123;</span><br><span class="line">				max = arr[i];</span><br><span class="line">			&#125;</span><br><span class="line">			return max;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	// 返回当前元素在int[] 中的索引</span><br><span class="line">	public static int getIndex(int[] arr, int element) &#123;</span><br><span class="line">		int index = -1;</span><br><span class="line">		for(int i = 0; i &lt; arr.length; i ++) &#123;</span><br><span class="line">			if(element == arr[i]) &#123;</span><br><span class="line">				index = i;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		return index;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>然后就可以通过类名来进行使用这个工具类了。</p>
<h3 id="代码块"><a href="#代码块" class="headerlink" title="代码块"></a>代码块</h3><p><code>{}</code>中的代码被称为代码块。<br>代码块的分类：</p>
<ul>
<li><p>局部代码块<br>存在于方法中，控制变量的生命周期(作用域)</p>
</li>
<li><p>构造代码块<br>提取构造方法中的共性，每次创建对象都会执行，并且<strong>优先于构造方法执行</strong></p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">public class  TestDemo &#123;</span><br><span class="line">	String name;</span><br><span class="line"></span><br><span class="line">	public TestDemo () &#123;</span><br><span class="line">		System.out.println(&quot;无参空构造&quot;);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	public TestDemo (String name) &#123;</span><br><span class="line">		this.name = name;</span><br><span class="line">		System.out.println(&quot;有参构造&quot;);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(&quot;构造代码块&quot;);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public class Test &#123;</span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		TestDemo t1 = new TestDemo(); // 构造代码块 无参空构造</span><br><span class="line">		TestDemo t2 = new TestDemo(&quot;DeeJay&quot;); // 构造代码块 有参构造</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>静态代码块<br>和构造代码块相似，但是如果创建多个对象，只执行一次<code>static {}</code>，因为他是跟对象的加载而加载的，跟对象没关系。一般<code>static {}</code>用来进行一些加载类的初始化问题。</p>
</li>
<li><p>同步代码块(多线程)</p>
</li>
</ul>
<p>注意点： 因为类的加载先于对象的创建，所以<strong>静态代码块也先于构造代码块执行</strong>。</p>

        </div>
      </div>
    </div>
  </div>
</article>



    <!-- Footer -->
<footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <p class="copyright text-muted">
          Theme By <a target="_blank" href="https://github.com/levblanc">Levblanc.</a>
          Inspired By <a target="_blank" href="https://github.com/klugjo/hexo-theme-clean-blog">Clean Blog.</a>
        <p class="copyright text-muted">
          Powered By <a target="_blank" href="https://hexo.io/">Hexo.</a>
        </p>
      </div>
    </div>
  </div>
</footer>


    <!-- After Footer Scripts -->
<script src="/js/highlight.pack.js"></script>
<script>
  document.addEventListener("DOMContentLoaded", function(event) {
    var codeBlocks = Array.prototype.slice.call(document.getElementsByTagName('pre'))
    codeBlocks.forEach(function(block, index) {
      hljs.highlightBlock(block);
    });
  });
</script>

  </body>
</html>

