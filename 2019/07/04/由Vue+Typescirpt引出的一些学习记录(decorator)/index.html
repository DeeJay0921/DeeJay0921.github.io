<!DOCTYPE html>
<html>
  <!-- Html Head Tag-->
  <head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content>
  <meta name="author" content="DeeJay">
  <!-- Open Graph Data -->
  <meta property="og:title" content="由Vue+Typescirpt引出的一些学习记录(decorator)">
  <meta property="og:description" content="web前端 Java后端">
  <meta property="og:site_name" content="DeeJay&#39;s Blog">
  <meta property="og:type" content="article">
  <meta property="og:image" content="https://deejay0921.github.io">
  
    <link rel="alternate" href="/atom.xml" title="DeeJay&#39;s Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.jpg">
  

  <!-- Site Title -->
  <title>DeeJay's Blog</title>

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="/css/bootstrap.min.css">
  <!-- Custom CSS -->
  
  <link rel="stylesheet" href="/css/style.light.css">

  <!-- Google Analytics -->
  

</head>

  <body>
    <!-- Page Header -->


<header class="site-header header-background" style="background-image: url(/img/blog-banner2.png)">
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <div class="page-title with-background-image">
          <p class="title">由Vue+Typescirpt引出的一些学习记录(decorator)</p>
          <p class="subtitle"></p>
        </div>
        <div class="site-menu with-background-image">
          <ul>
            
              <li>
                <a href="/">
                  
                  Home
                  
                </a>
              </li>
            
              <li>
                <a href="/archives">
                  
                  Archives
                  
                </a>
              </li>
            
              <li>
                <a href="https://github.com/DeeJay0921">
                  
                  Github
                  
                </a>
              </li>
            
              <li>
                <a href="mailto:1018805743@qq.com">
                  
                  Email
                  
                </a>
              </li>
            
          </ul>
        </div>
      </div>
    </div>
  </div>
</header>

<article>
  <div class="container typo">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <div class="post-info text-muted">
          
            <!-- Author -->
            <span class="author info">By DeeJay</span>
          
          <!-- Date -->
          <span class="date-time info">On
            <span class="date">2019-07-04</span>
            <span class="time">01:26:21</span>
          </span>
          
          <!--  Categories  -->
            <span class="categories info">Under 

<a href="/categories/前端/">前端</a>
</span>
          
        </div>
        <!-- Tags -->
        
          <div class="post-tags text-muted">
            Tags: 

<a class="tag" href="/tags/ES6/">#ES6</a> <a class="tag" href="/tags/Vue/">#Vue</a> <a class="tag" href="/tags/Typescirpt/">#Typescirpt</a> <a class="tag" href="/tags/decorator/">#decorator</a>


          </div>
        
        <!-- Post Main Content -->
        <div class="post-content">
          <p>由Vue+Typescirpt引出的一些学习记录(decorator)</p>
<a id="more"></a>

<p>先来看一个在Vue中使用typescript的例子：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;script lang=&quot;ts&quot;&gt;</span><br><span class="line">  import Vue from &apos;vue&apos;</span><br><span class="line">  import Component from &apos;vue-class-component&apos;</span><br><span class="line"></span><br><span class="line">  @Component</span><br><span class="line">  export default class App extends Vue &#123;</span><br><span class="line">    // 初始化数据</span><br><span class="line">    msg = 123</span><br><span class="line"></span><br><span class="line">    // 声明周期钩子</span><br><span class="line">    mounted () &#123;</span><br><span class="line">      this.greet()</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // 计算属性</span><br><span class="line">    get computedMsg () &#123;</span><br><span class="line">      return &apos;computed &apos; + this.msg</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // 方法</span><br><span class="line">    greet () &#123;</span><br><span class="line">      alert(&apos;greeting: &apos; + this.msg)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>上述代码中的<code>@Component</code>是什么？</p>
<h1 id="decorator"><a href="#decorator" class="headerlink" title="decorator"></a>decorator</h1><p><a href="http://es6.ruanyifeng.com/#docs/decorator" target="_blank" rel="noopener">decorator_阮一峰</a></p>
<p>来看Python中的decorator：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">def my_decorator(fn):</span><br><span class="line">  def inner(name):</span><br><span class="line">    print &apos;Hello &apos; + fn(name)</span><br><span class="line">  return inner</span><br><span class="line"></span><br><span class="line">@my_decorator</span><br><span class="line">def greet(name):</span><br><span class="line">  return name</span><br><span class="line"></span><br><span class="line">greet(&apos;Decorator!&apos;)</span><br><span class="line"># Hello Decorator!</span><br></pre></td></tr></table></figure>

<p>上述例子中的<code>@my_decorator</code>就是一个decorator，decorator接受一个函数作为参数，然后在内部定义一个新的函数作为结果return出来。</p>
<p>等价于：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">greet = my_decorator(greet)</span><br><span class="line"></span><br><span class="line">greet(&apos;Decorator!&apos;)</span><br><span class="line"># Hello Decorator!</span><br></pre></td></tr></table></figure>

<p>可以看到，其实就是一种语法糖，那么在JS中，也借助了Object.defineProperty()实现了对应的decorator</p>
<h2 id="JS中的Object-defineProperty"><a href="#JS中的Object-defineProperty" class="headerlink" title="JS中的Object.defineProperty()"></a>JS中的Object.defineProperty()</h2><p>Object.defineProperty的用法都不陌生，其用处就是改变一个对象的属性，包括新增属性或者更改已有属性。</p>
<p><code>Object.defineProperty(obj, key, descriptor)</code></p>
<ul>
<li>obj代表要更改的对象</li>
<li>key代表要更改的对象的属性</li>
</ul>
<blockquote>
<p>关于descriptor，也是一个对象，其内部一些固定属性规定了obj中的key属性的一些特性，比如writable控制对象是否支持编辑更改等。</p>
</blockquote>
<p>那么<strong>decorator作为一个普通的函数，其用法和Object.defineProperty()是一样的</strong>。</p>
<h2 id="定义decorator作用于普通的方法"><a href="#定义decorator作用于普通的方法" class="headerlink" title="定义decorator作用于普通的方法"></a>定义decorator作用于普通的方法</h2><p>先来定义一个decorator设置目标属性只读：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">function readonly(target, key, descriptor) &#123;</span><br><span class="line">  descriptor.writable = false</span><br><span class="line">  return descriptor</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>创建一个类，使用decorator修饰其内部方法为readonly</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">class Dog &#123;</span><br><span class="line">  @readonly</span><br><span class="line">  bark () &#123;</span><br><span class="line">    return &apos;wang!wang!&apos;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let dog = new Dog()</span><br><span class="line">dog.bark = () =&gt; &quot;moew&quot;; // 这行会报错 Cannot assign to read only property &apos;bark&apos; of object &apos;#&lt;Dog&gt;&apos;</span><br></pre></td></tr></table></figure>

<p>在上述例子中,readonly的参数<strong>target为Dog.prototype</strong></p>
<blockquote>
<p>总结：<strong>decorator的作用就是返回一个新的descriptor！</strong>如果作用在方法上，那么decorator的第一个参数target为这个方法所属的类的prototype，比如上例中的Dog.prototype</p>
</blockquote>
<h3 id="定义decorator作用在类上"><a href="#定义decorator作用在类上" class="headerlink" title="定义decorator作用在类上"></a>定义decorator作用在类上</h3><p>当decorator作用到类上时，其第一个<strong>参数target此时是类本身</strong>。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">// 这里的 `target` 是类本身</span><br><span class="line">function doge (target) &#123;</span><br><span class="line">  target.isDoge = true</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@doge</span><br><span class="line">class Dog &#123;&#125;</span><br><span class="line"></span><br><span class="line">console.log(Dog.isDoge)</span><br><span class="line">// true</span><br></pre></td></tr></table></figure>

<p>如果要给实例对象加属性或者方法，可以使用target.prototype定义属性或者方法</p>
<blockquote>
<p>总结：decorator修饰类时，target为类本身，修饰方法时，target为class.prototype</p>
</blockquote>
<h2 id="decorator接收参数"><a href="#decorator接收参数" class="headerlink" title="decorator接收参数"></a>decorator接收参数</h2><p>如果decorator要接收参数的话，可以写成这样:<br>修饰类时：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">function doge (isDoge) &#123;</span><br><span class="line">  return function(target) &#123;</span><br><span class="line">    target.isDoge = isDoge</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@doge(true)</span><br><span class="line">class Dog &#123;&#125;</span><br><span class="line"></span><br><span class="line">console.log(Dog.isDoge)</span><br><span class="line">// true</span><br><span class="line"></span><br><span class="line">@doge(false)</span><br><span class="line">class Human &#123;&#125;</span><br><span class="line">console.log(Human.isDoge)</span><br><span class="line">// false</span><br></pre></td></tr></table></figure>

<p>修饰方法时：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">function enumerable (isEnumerable) &#123;</span><br><span class="line">  return function(target, key, descriptor) &#123;</span><br><span class="line">    descriptor.enumerable = isEnumerable</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class Dog &#123;</span><br><span class="line">  @enumerable(false)</span><br><span class="line">  eat () &#123; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>即，内部return一个函数来接收target,key,descriptor,外部函数用来接收自定义参数</p>
<h1 id="使用Vue-Typescript-使用vue-property-decorator"><a href="#使用Vue-Typescript-使用vue-property-decorator" class="headerlink" title="使用Vue+Typescript(使用vue-property-decorator)"></a>使用Vue+Typescript(使用vue-property-decorator)</h1><p>学习了decorator之后，再来看ts版本的vue代码，就很好理解了：</p>
<p><code>import Component from &#39;vue-class-component&#39;</code></p>
<p><a href="https://github.com/vuejs/vue-class-component" target="_blank" rel="noopener">vue-class-component</a>是对Vue组件进行了一层封装，让 Vue 组件语法在结合了 TypeScript 语法之后更加扁平化</p>
<p>在其基础上，又有<a href="https://github.com/kaorun343/vue-property-decorator" target="_blank" rel="noopener">vue-property-decorator</a>对前者做了进一步的继承以及增加了更多的decorator</p>
<p>所以我们直接使用<a href="https://github.com/kaorun343/vue-property-decorator" target="_blank" rel="noopener">vue-property-decorator</a>来进行Vue+Ts的开发即可，来看几个基本使用的例子：</p>
<h2 id="Prop"><a href="#Prop" class="headerlink" title="Prop"></a>Prop</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">import &#123; Vue, Component, Prop &#125; from &apos;vue-property-decorator&apos;;</span><br><span class="line"></span><br><span class="line">@Component</span><br><span class="line">export default class YourComponent extends Vue &#123;</span><br><span class="line">  @Prop(Number) readonly propA!: number; // Props一般都应该设为readonly </span><br><span class="line">  @Prop(&#123; default: &apos;default value&apos; &#125;) readonly propB!: string</span><br><span class="line">  @Prop([String, Boolean]) readonly propC!: string | boolean</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>展示了三种定义Prop的方式</p>
<h2 id="Model"><a href="#Model" class="headerlink" title="Model"></a>Model</h2><p><code>@Model(event?: string, options: (PropOptions | Constructor[] | Constructor) = {})</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">import &#123; Vue, Component, Model &#125; from &apos;vue-property-decorator&apos;</span><br><span class="line"></span><br><span class="line">@Component</span><br><span class="line">export default class YourComponent extends Vue &#123;</span><br><span class="line">  @Model(&apos;balabala&apos;, &#123; type: Boolean &#125;) readonly checked!: boolean</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>等价于js写法的：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">export default &#123;</span><br><span class="line">  model: &#123;</span><br><span class="line">    prop: &apos;checked&apos;,</span><br><span class="line">    event: &apos;balabala&apos;</span><br><span class="line">  &#125;,</span><br><span class="line">  props: &#123;</span><br><span class="line">    checked: &#123;</span><br><span class="line">      type: Boolean</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Watch"><a href="#Watch" class="headerlink" title="Watch"></a>Watch</h2><p><code>@Watch(path: string, options: WatchOptions = {})</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">import &#123; Vue, Component, Watch &#125; from &apos;vue-property-decorator&apos;</span><br><span class="line"></span><br><span class="line">@Component</span><br><span class="line">export default class YourComponent extends Vue &#123;</span><br><span class="line">  @Watch(&apos;child&apos;)</span><br><span class="line">  onChildChanged(val: string, oldVal: string) &#123; &#125;</span><br><span class="line"></span><br><span class="line">  @Watch(&apos;person&apos;, &#123; immediate: true, deep: true &#125;)</span><br><span class="line">  onPersonChanged1(val: Person, oldVal: Person) &#123; &#125;</span><br><span class="line"></span><br><span class="line">  @Watch(&apos;person&apos;)</span><br><span class="line">  onPersonChanged2(val: Person, oldVal: Person) &#123; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="关于TS的一些小知识点"><a href="#关于TS的一些小知识点" class="headerlink" title="关于TS的一些小知识点"></a>关于TS的一些小知识点</h2><h3 id="设置只读属性"><a href="#设置只读属性" class="headerlink" title="设置只读属性"></a>设置只读属性</h3><p>在interface中定义属性只读:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">interface ReadOnly &#123;</span><br><span class="line">    readonly a: number;// a属性即为只读，除了只能在对象刚刚创建的时候给其赋值</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>数组类型ReadonlyArray<t></t></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">let ro: ReadonlyArray&lt;number&gt; = [1, 2, 3, 4];</span><br><span class="line">ro[0] = 12; // error!</span><br><span class="line">ro.push(5); // error!</span><br><span class="line">ro.length = 100; // error!</span><br><span class="line">a = ro; // error!</span><br></pre></td></tr></table></figure>

<blockquote>
<p>可以用类型断言重写：<code>let a = ro as number[];</code> a就不是只可读了</p>
</blockquote>
<h3 id="类和接口"><a href="#类和接口" class="headerlink" title="类和接口"></a>类和接口</h3><p>当一个类实现了一个接口时，<strong>只对其实例部分进行类型检查</strong></p>
<p>上面这句话决定了接口不能对类内部的构造方法constructor()进行检查</p>
<p>即对于下列情况是不会做检查的：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">interface ClockConstructor &#123;</span><br><span class="line">    new (hour: number, minute: number);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class Clock implements ClockConstructor &#123;</span><br><span class="line">    constructor(h: number, m: number) &#123; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>constructor存在于类的静态部分，所以不在检查的范围内。</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">interface ClockConstructor &#123;</span><br><span class="line">    new (hour: number, minute: number): ClockInterface;</span><br><span class="line">&#125;</span><br><span class="line">interface ClockInterface &#123;</span><br><span class="line">    tick();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function createClock(ctor: ClockConstructor, hour: number, minute: number): ClockInterface &#123;</span><br><span class="line">    return new ctor(hour, minute);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class DigitalClock implements ClockInterface &#123;</span><br><span class="line">    constructor(h: number, m: number) &#123; &#125;</span><br><span class="line">    tick() &#123;</span><br><span class="line">        console.log(&quot;beep beep&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let digital = createClock(DigitalClock, 12, 17);</span><br></pre></td></tr></table></figure>

<p>ts官网举了一个例子：createClock的第一个参数为ClockConstructor 类型的变量，所以在运行let digital = createClock(DigitalClock, 12, 17);时回去进行检查DigitalClock 是否合法。</p>
<h3 id="接口中的任意属性"><a href="#接口中的任意属性" class="headerlink" title="接口中的任意属性"></a>接口中的任意属性</h3><p>在定义接口当中，如果想定义一些任意属性时，需要注意的点是： <strong>一旦你定义了一个任意属性，那么其他属性的值类型都必须是任意属性的类型或其子类型</strong>。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">interface Person &#123;</span><br><span class="line">  name: string;</span><br><span class="line">  age?: number;</span><br><span class="line">  [anyNameUWant: string]: string;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let Yang: Person = &#123;</span><br><span class="line">  name: &apos;Yang&apos;,</span><br><span class="line">  age: 24,</span><br><span class="line">  gender: &apos;male&apos;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>上述例子会报错，任意属性的值允许是 string，但是可选属性 age 的值却是 number，number 不是 string 的子属性，所以报错了</p>

        </div>
      </div>
    </div>
  </div>
</article>



    <!-- Footer -->
<footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <p class="copyright text-muted">
          Theme By <a target="_blank" href="https://github.com/levblanc">Levblanc.</a>
          Inspired By <a target="_blank" href="https://github.com/klugjo/hexo-theme-clean-blog">Clean Blog.</a>
        <p class="copyright text-muted">
          Powered By <a target="_blank" href="https://hexo.io/">Hexo.</a>
        </p>
      </div>
    </div>
  </div>
</footer>


    <!-- After Footer Scripts -->
<script src="/js/highlight.pack.js"></script>
<script>
  document.addEventListener("DOMContentLoaded", function(event) {
    var codeBlocks = Array.prototype.slice.call(document.getElementsByTagName('pre'))
    codeBlocks.forEach(function(block, index) {
      hljs.highlightBlock(block);
    });
  });
</script>

  </body>
</html>

