<!DOCTYPE html>
<html>
  <!-- Html Head Tag-->
  <head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content>
  <meta name="author" content="DeeJay">
  <!-- Open Graph Data -->
  <meta property="og:title" content="mysql的简单了解">
  <meta property="og:description" content="web前端 Java后端">
  <meta property="og:site_name" content="DeeJay&#39;s Blog">
  <meta property="og:type" content="article">
  <meta property="og:image" content="https://deejay0921.github.io">
  
    <link rel="alternate" href="/atom.xml" title="DeeJay&#39;s Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.jpg">
  

  <!-- Site Title -->
  <title>DeeJay's Blog</title>

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="/css/bootstrap.min.css">
  <!-- Custom CSS -->
  
  <link rel="stylesheet" href="/css/style.light.css">

  <!-- Google Analytics -->
  

</head>

  <body>
    <!-- Page Header -->


<header class="site-header header-background" style="background-image: url(/img/blog-banner2.png)">
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <div class="page-title with-background-image">
          <p class="title">mysql的简单了解</p>
          <p class="subtitle"></p>
        </div>
        <div class="site-menu with-background-image">
          <ul>
            
              <li>
                <a href="/">
                  
                  Home
                  
                </a>
              </li>
            
              <li>
                <a href="/archives">
                  
                  Archives
                  
                </a>
              </li>
            
              <li>
                <a href="https://github.com/DeeJay0921">
                  
                  Github
                  
                </a>
              </li>
            
              <li>
                <a href="mailto:1018805743@qq.com">
                  
                  Email
                  
                </a>
              </li>
            
          </ul>
        </div>
      </div>
    </div>
  </div>
</header>

<article>
  <div class="container typo">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <div class="post-info text-muted">
          
            <!-- Author -->
            <span class="author info">By DeeJay</span>
          
          <!-- Date -->
          <span class="date-time info">On
            <span class="date">2019-04-14</span>
            <span class="time">18:00:32</span>
          </span>
          
          <!--  Categories  -->
            <span class="categories info">Under 

<a href="/categories/DataBase/">DataBase</a>
</span>
          
        </div>
        <!-- Tags -->
        
          <div class="post-tags text-muted">
            Tags: 

<a class="tag" href="/tags/mysql/">#mysql</a>


          </div>
        
        <!-- Post Main Content -->
        <div class="post-content">
          <p>mysql的简单了解</p>
<a id="more"></a>

<h1 id="数据库概述"><a href="#数据库概述" class="headerlink" title="数据库概述"></a>数据库概述</h1><ul>
<li>什么是数据库: 数据库就是一个文件系统，只不过需要通过命令(sql)来操作这个文件系统</li>
<li>数据库的作用：存储数据，数据的仓局，带有不同访问权限的人可以有不同的操作</li>
<li>常见的关系型数据库：mysql, oracle, mariadb(mysql分支，和mysql非常相似),db2, sqlserver</li>
<li>常见的非关系型数据库：MongoDB, redis</li>
<li>关系型数据库：主要描述实体与实体的关系</li>
</ul>
<h1 id="mysql的简单使用"><a href="#mysql的简单使用" class="headerlink" title="mysql的简单使用"></a>mysql的简单使用</h1><h3 id="安装和卸载"><a href="#安装和卸载" class="headerlink" title="安装和卸载"></a>安装和卸载</h3><p>安装：<a href="https://blog.csdn.net/huzhongxi/article/details/81988988#%E4%B8%8B%E8%BD%BDzip%E5%AE%89%E8%A3%85%E5%8C%85" target="_blank" rel="noopener">安装教程</a></p>
<p>卸载：卸载mysqlServer，删除mysql目录下所有文件，删除mysql所有存储数据。</p>
<h3 id="mysql的一些语句"><a href="#mysql的一些语句" class="headerlink" title="mysql的一些语句"></a>mysql的一些语句</h3><p>DDL(定义): create drop alter(修改)<br>DML(操作): insert update delete<br>DCL(数据控制语句):  定义访问权限，取消访问权限，安全设置，grant<br>DQL(查询)：select from子句 where子句</p>
<h3 id="常用的数据库crud操作"><a href="#常用的数据库crud操作" class="headerlink" title="常用的数据库crud操作"></a>常用的数据库crud操作</h3><h4 id="创建数据库"><a href="#创建数据库" class="headerlink" title="创建数据库"></a>创建数据库</h4><ul>
<li><p>登录</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -uroot -proot  //(账号密码为root root)</span><br></pre></td></tr></table></figure>
</li>
<li><p>创建一个数据库DeeJay</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">create database DeeJay1;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<blockquote>
<p>创建数据库的时候要指定字符集的话可以这么写：<code>create database DeeJay1 character set utf8;</code><br><code>create database DeeJay1 character set utf8 collate 校对规则;</code></p>
<ul>
<li>查看数据库<ul>
<li>查看所有数据库<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">show databases;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
</blockquote>
<pre><code>输出如下：
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; show databases;</span><br><span class="line">+--------------------+</span><br><span class="line">| Database           |</span><br><span class="line">+--------------------+</span><br><span class="line">| deejay1            |</span><br><span class="line">| information_schema |</span><br><span class="line">| mysql              |</span><br><span class="line">| performance_schema |</span><br><span class="line">| sys                |</span><br><span class="line">+--------------------+</span><br><span class="line">5 rows in set (0.02 sec)</span><br></pre></td></tr></table></figure>

可以看到还有一些默认库。
- 查看数据库定义的语句：
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">show create database 数据库名;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; show create database DeeJay1;</span><br><span class="line">+----------+------------------------------------------------------------------+</span><br><span class="line">| Database | Create Database                                                  |</span><br><span class="line">+----------+------------------------------------------------------------------+</span><br><span class="line">| DeeJay1  | CREATE DATABASE `DeeJay1` /*!40100 DEFAULT CHARACTER SET utf8 */ |</span><br><span class="line">+----------+------------------------------------------------------------------+</span><br><span class="line">1 row in set (0.01 sec)</span><br></pre></td></tr></table></figure></code></pre><ul>
<li><p>修改数据库的操作</p>
<ul>
<li><p>修改数据库的字符集</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alter database 数据库名 character set 字符集;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; alter database DeeJay1 character set gbk;</span><br><span class="line">Query OK, 1 row affected (0.13 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; show create database DeeJay1;</span><br><span class="line">+----------+-----------------------------------------------------------------+</span><br><span class="line">| Database | Create Database                                                 |</span><br><span class="line">+----------+-----------------------------------------------------------------+</span><br><span class="line">| DeeJay1  | CREATE DATABASE `DeeJay1` /*!40100 DEFAULT CHARACTER SET gbk */ |</span><br><span class="line">+----------+-----------------------------------------------------------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>删除数据库</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">drop database 数据库名;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; drop database DeeJay1;</span><br><span class="line">Query OK, 0 rows affected (0.19 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; show create database DeeJay1;</span><br><span class="line">ERROR 1049 (42000): Unknown database &apos;deejay1&apos;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>其他数据库操作</p>
<ul>
<li><p>切换数据库（选中数据库）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">use 数据库名;</span><br></pre></td></tr></table></figure>
</li>
<li><p>查看当前正在使用的数据库</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select database();</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; create database base1;</span><br><span class="line">Query OK, 1 row affected (0.15 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select database();</span><br><span class="line">+------------+</span><br><span class="line">| database() |</span><br><span class="line">+------------+</span><br><span class="line">| NULL       |</span><br><span class="line">+------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; use base1;</span><br><span class="line">Database changed</span><br><span class="line">mysql&gt; select database();</span><br><span class="line">+------------+</span><br><span class="line">| database() |</span><br><span class="line">+------------+</span><br><span class="line">| base1      |</span><br><span class="line">+------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ul>
<h3 id="常用的表的crud操作"><a href="#常用的表的crud操作" class="headerlink" title="常用的表的crud操作"></a>常用的表的crud操作</h3><h4 id="创建表"><a href="#创建表" class="headerlink" title="创建表"></a>创建表</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">create table 表名(</span><br><span class="line">    列名 列的类型 约束,</span><br><span class="line">    列名2 列2的类型 约束</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>列的类型(和java做下对比)：</p>
</blockquote>
<table>
<thead>
<tr>
<th>java</th>
<th>sql</th>
</tr>
</thead>
<tbody><tr>
<td>int</td>
<td>int</td>
</tr>
<tr>
<td>char/String</td>
<td>char/varchar</td>
</tr>
<tr>
<td>double</td>
<td>double</td>
</tr>
<tr>
<td>float</td>
<td>float</td>
</tr>
<tr>
<td>boolean</td>
<td>boolean</td>
</tr>
<tr>
<td>date</td>
<td>date(YYYY-MM-DD)/time(hh:mm:ss)/datetime(YYYY-MM-DD hh:mm:ss 默认为null)/timestamp(YYYY-MM-DD hh:mm:ss 默认为当前时间)</td>
</tr>
</tbody></table>
<p><em>char: 固定长度  varchar:可变长度</em><br>数据库中的列类型还有<code>text</code>(主要用来存储文本)和<code>blob</code>(主要用来存放二进制)</p>
<blockquote>
<p>列的约束：<br>主键约束： primary key<br>唯一约束： unique<br>非空约束： not null</p>
</blockquote>
<p>创建表举例：</p>
<ol>
<li>分析实体： 学生</li>
<li>学生ID</li>
<li>姓名</li>
<li>性别</li>
<li>年龄</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; create table student(studentId int primary key, name varchar(25), gender boolean, age int);</span><br><span class="line">Query OK, 0 rows affected (0.72 sec)</span><br></pre></td></tr></table></figure>

<h4 id="查看表"><a href="#查看表" class="headerlink" title="查看表"></a>查看表</h4><ul>
<li>查看所有的表<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">show tables;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; show tables;</span><br><span class="line">+-----------------+</span><br><span class="line">| Tables_in_base1 |</span><br><span class="line">+-----------------+</span><br><span class="line">| student         |</span><br><span class="line">+-----------------+</span><br><span class="line">1 row in set (0.07 sec)</span><br></pre></td></tr></table></figure>

<ul>
<li>查看表的定义<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">show create table 表名;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; show create table student;</span><br><span class="line">+---------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span><br><span class="line">| Table   | Create Table</span><br><span class="line">                                                                                                                   |</span><br><span class="line">+---------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span><br><span class="line">| student | CREATE TABLE `student` (</span><br><span class="line">  `studentId` int(11) NOT NULL,</span><br><span class="line">  `name` varchar(25) DEFAULT NULL,</span><br><span class="line">  `gender` tinyint(1) DEFAULT NULL,</span><br><span class="line">  `age` int(11) DEFAULT NULL,</span><br><span class="line">  PRIMARY KEY (`studentId`)</span><br><span class="line">) ENGINE=InnoDB DEFAULT CHARSET=utf8 |</span><br><span class="line">+---------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span><br><span class="line">1 row in set (0.03 sec)</span><br></pre></td></tr></table></figure>

<ul>
<li>查看表结构<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">desc 表名;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; desc student;</span><br><span class="line">+-----------+-------------+------+-----+---------+-------+</span><br><span class="line">| Field     | Type        | Null | Key | Default | Extra |</span><br><span class="line">+-----------+-------------+------+-----+---------+-------+</span><br><span class="line">| studentId | int(11)     | NO   | PRI | NULL    |       |</span><br><span class="line">| name      | varchar(25) | YES  |     | NULL    |       |</span><br><span class="line">| gender    | tinyint(1)  | YES  |     | NULL    |       |</span><br><span class="line">| age       | int(11)     | YES  |     | NULL    |       |</span><br><span class="line">+-----------+-------------+------+-----+---------+-------+</span><br><span class="line">4 rows in set (0.04 sec)</span><br></pre></td></tr></table></figure>

<h4 id="修改表"><a href="#修改表" class="headerlink" title="修改表"></a>修改表</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alter table 表名 修改的类型 列名 列的类型 列的约束;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>修改的类型: 添加列(add), 修改列(modify), 修改列名(change), 删除列(drop), 修改表名(rename)</p>
<ul>
<li>添加列(add)</li>
</ul>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; alter table student add score int not null; // 给student添加一列成绩，为int型，并且不能为null</span><br><span class="line">Query OK, 0 rows affected (0.23 sec)</span><br><span class="line">Records: 0  Duplicates: 0  Warnings: 0</span><br><span class="line"></span><br><span class="line">mysql&gt; desc student;</span><br><span class="line">+-----------+-------------+------+-----+---------+-------+</span><br><span class="line">| Field     | Type        | Null | Key | Default | Extra |</span><br><span class="line">+-----------+-------------+------+-----+---------+-------+</span><br><span class="line">| studentId | int(11)     | NO   | PRI | NULL    |       |</span><br><span class="line">| name      | varchar(25) | YES  |     | NULL    |       |</span><br><span class="line">| gender    | tinyint(1)  | YES  |     | NULL    |       |</span><br><span class="line">| age       | int(11)     | YES  |     | NULL    |       |</span><br><span class="line">| score     | int(11)     | NO   |     | NULL    |       |</span><br><span class="line">+-----------+-------------+------+-----+---------+-------+</span><br><span class="line">5 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<ul>
<li><p>修改列(modify)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; alter table student modify gender int;// 修改student的gender列的类型为int          </span><br><span class="line">Query OK, 0 rows affected (0.75 sec)                       </span><br><span class="line">Records: 0  Duplicates: 0  Warnings: 0                     </span><br><span class="line">                                                           </span><br><span class="line">mysql&gt; desc student;                                       </span><br><span class="line">+-----------+-------------+------+-----+---------+-------+ </span><br><span class="line">| Field     | Type        | Null | Key | Default | Extra | </span><br><span class="line">+-----------+-------------+------+-----+---------+-------+ </span><br><span class="line">| studentId | int(11)     | NO   | PRI | NULL    |       | </span><br><span class="line">| name      | varchar(25) | YES  |     | NULL    |       | </span><br><span class="line">| gender    | int(11)     | YES  |     | NULL    |       | </span><br><span class="line">| age       | int(11)     | YES  |     | NULL    |       | </span><br><span class="line">| score     | int(11)     | NO   |     | NULL    |       | </span><br><span class="line">+-----------+-------------+------+-----+---------+-------+ </span><br><span class="line">5 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>
</li>
<li><p>修改列名(change)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; alter table student change name studentname varchar(25);</span><br><span class="line">Query OK, 0 rows affected (0.12 sec)</span><br><span class="line">Records: 0  Duplicates: 0  Warnings: 0</span><br><span class="line"></span><br><span class="line">mysql&gt; desc student;</span><br><span class="line">+-------------+-------------+------+-----+---------+-------+</span><br><span class="line">| Field       | Type        | Null | Key | Default | Extra |</span><br><span class="line">+-------------+-------------+------+-----+---------+-------+</span><br><span class="line">| studentId   | int(11)     | NO   | PRI | NULL    |       |</span><br><span class="line">| studentname | varchar(25) | YES  |     | NULL    |       |</span><br><span class="line">| gender      | int(11)     | YES  |     | NULL    |       |</span><br><span class="line">| age         | int(11)     | YES  |     | NULL    |       |</span><br><span class="line">| score       | int(11)     | NO   |     | NULL    |       |</span><br><span class="line">+-------------+-------------+------+-----+---------+-------+</span><br><span class="line">5 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>
</li>
<li><p>删除列(drop)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; alter table student drop score;</span><br><span class="line">Query OK, 0 rows affected (0.68 sec)</span><br><span class="line">Records: 0  Duplicates: 0  Warnings: 0</span><br><span class="line"></span><br><span class="line">mysql&gt; desc student;</span><br><span class="line">+-------------+-------------+------+-----+---------+-------+</span><br><span class="line">| Field       | Type        | Null | Key | Default | Extra |</span><br><span class="line">+-------------+-------------+------+-----+---------+-------+</span><br><span class="line">| studentId   | int(11)     | NO   | PRI | NULL    |       |</span><br><span class="line">| studentname | varchar(25) | YES  |     | NULL    |       |</span><br><span class="line">| gender      | int(11)     | YES  |     | NULL    |       |</span><br><span class="line">| age         | int(11)     | YES  |     | NULL    |       |</span><br><span class="line">+-------------+-------------+------+-----+---------+-------+</span><br><span class="line">4 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>
</li>
<li><p>修改表名(rename), 修改表的字符集<br>这两种方法一般不常用，慎用。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rename table student to normalstudent;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alter table student character set gbk;</span><br></pre></td></tr></table></figure>

<h4 id="删除表"><a href="#删除表" class="headerlink" title="删除表"></a>删除表</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">drop table 表名;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; drop table student;</span><br><span class="line">Query OK, 0 rows affected (0.24 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; show tables;</span><br><span class="line">Empty set (0.00 sec)</span><br></pre></td></tr></table></figure>

<h3 id="sql对表中数据的CRUD操作"><a href="#sql对表中数据的CRUD操作" class="headerlink" title="sql对表中数据的CRUD操作"></a>sql对表中数据的CRUD操作</h3><p>现有如下结构的一个表:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; desc student;</span><br><span class="line">+--------+-------------+------+-----+---------+-------+</span><br><span class="line">| Field  | Type        | Null | Key | Default | Extra |</span><br><span class="line">+--------+-------------+------+-----+---------+-------+</span><br><span class="line">| id     | int(11)     | NO   | PRI | NULL    |       |</span><br><span class="line">| name   | varchar(25) | YES  |     | NULL    |       |</span><br><span class="line">| ismale | tinyint(1)  | YES  |     | NULL    |       |</span><br><span class="line">| age    | int(11)     | YES  |     | NULL    |       |</span><br><span class="line">+--------+-------------+------+-----+---------+-------+</span><br><span class="line">4 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<h4 id="插入数据"><a href="#插入数据" class="headerlink" title="插入数据"></a>插入数据</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">insert into 表名(列名1,列名2,列名3) values(值1, 值2, 值3);</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; insert into student(id, name, ismale, age) values(1, &quot;zhangsan&quot;, true, 20);</span><br><span class="line">Query OK, 1 row affected (0.08 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from student;</span><br><span class="line">+----+----------+--------+------+</span><br><span class="line">| id | name     | ismale | age  |</span><br><span class="line">+----+----------+--------+------+</span><br><span class="line">|  1 | zhangsan |      1 |   20 |</span><br><span class="line">+----+----------+--------+------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<p>对于上述的表中所有列都插入数据的情况，可以简写为：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">insert into 表名 values(值1, 值2, 值3);</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; insert into student values(2, &quot;lisi&quot;, true, 18);</span><br><span class="line">Query OK, 1 row affected (0.08 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from student;</span><br><span class="line">+----+----------+--------+------+</span><br><span class="line">| id | name     | ismale | age  |</span><br><span class="line">+----+----------+--------+------+</span><br><span class="line">|  1 | zhangsan |      1 |   20 |</span><br><span class="line">|  2 | lisi     |      1 |   18 |</span><br><span class="line">+----+----------+--------+------+</span><br><span class="line">2 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>也可以灵活指定想插入的列。</p>
</blockquote>
<p>批量插入：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">insert into 表名 values(值1, 值2, 值3),(值1, 值2, 值3),(值1, 值2, 值3);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>单条插入和批量插入的效率问题： 批量会比较快，但是如果某一条数据有问题的话会都失败。</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; insert into student values(3, &quot;Yang&quot;, true, 23),(4, &quot;Wen&quot;, false, 25);</span><br><span class="line">Query OK, 2 rows affected (0.06 sec)</span><br><span class="line">Records: 2  Duplicates: 0  Warnings: 0</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from student;</span><br><span class="line">+----+----------+--------+------+</span><br><span class="line">| id | name     | ismale | age  |</span><br><span class="line">+----+----------+--------+------+</span><br><span class="line">|  1 | zhangsan |      1 |   20 |</span><br><span class="line">|  2 | lisi     |      1 |   18 |</span><br><span class="line">|  3 | Yang     |      1 |   23 |</span><br><span class="line">|  4 | Wen      |      0 |   25 |</span><br><span class="line">+----+----------+--------+------+</span><br><span class="line">4 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<h4 id="删除记录"><a href="#删除记录" class="headerlink" title="删除记录"></a>删除记录</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> 表名 [<span class="keyword">where</span> 条件]</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; delete from student where name=&apos;zhangsan&apos;;</span><br><span class="line">Query OK, 1 row affected (0.06 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from student;</span><br><span class="line">+----+------+--------+------+</span><br><span class="line">| id | name | ismale | age  |</span><br><span class="line">+----+------+--------+------+</span><br><span class="line">|  2 | lisi |      1 |   18 |</span><br><span class="line">|  3 | Yang |      1 |   23 |</span><br><span class="line">|  4 | Wen  |      0 |   25 |</span><br><span class="line">+----+------+--------+------+</span><br><span class="line">3 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>delete from student;</code>如果没有where条件，执行这个语句的话会将数据一条一条全部删除。</p>
</blockquote>
<blockquote>
<p>delete删除数据和truncate删除数据的区别:delete属于DML,是一条一条删除表中数据, truncate属于DDL，先去删除表再去重建表。<br>如果数据较少那么delete较快，如果数据多，那么truncate较快。 </p>
</blockquote>
<h4 id="修改表记录"><a href="#修改表记录" class="headerlink" title="修改表记录"></a>修改表记录</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">update</span> 表名 <span class="keyword">set</span> 列名=列的值,列名<span class="number">2</span>=值<span class="number">2</span> [<span class="keyword">where</span> 条件]</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; update student set name=&quot;zhangsan&quot; where id=2; // 将id为2的那一列的name改为zhangsan</span><br><span class="line">Query OK, 1 row affected (0.06 sec)</span><br><span class="line">Rows matched: 1  Changed: 1  Warnings: 0</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from student;</span><br><span class="line">+----+----------+--------+------+</span><br><span class="line">| id | name     | ismale | age  |</span><br><span class="line">+----+----------+--------+------+</span><br><span class="line">|  2 | zhangsan |      1 |   18 |</span><br><span class="line">|  3 | Yang     |      1 |   23 |</span><br><span class="line">|  4 | Wen      |      0 |   25 |</span><br><span class="line">+----+----------+--------+------+</span><br><span class="line">3 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>update student set name=&quot;zhangsan&quot;,ismale=false;</code>如果后面不跟where条件，那么表中所有的列的name和ismale列都会改。</p>
</blockquote>
<h4 id="查询记录"><a href="#查询记录" class="headerlink" title="查询记录"></a>查询记录</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select [distinct] [ * ] [列名1,列名2] from 表名 [where 条件];</span><br></pre></td></tr></table></figure>

<blockquote>
<p>distinct: 去除重复的数据 <a href="https://www.cnblogs.com/shiluoliming/p/6604407.html" target="_blank" rel="noopener">distinct详细用法</a></p>
</blockquote>
<p>首先创建一个商品分类的表：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> <span class="keyword">category</span>(</span><br><span class="line">  cid <span class="built_in">int</span> primary <span class="keyword">key</span> auto_increment,</span><br><span class="line">  cname <span class="built_in">varchar</span>(<span class="number">25</span>),</span><br><span class="line">  cdesc <span class="built_in">varchar</span>(<span class="number">31</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>然后插入数据：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> <span class="keyword">category</span> <span class="keyword">values</span>(<span class="literal">null</span>, <span class="string">"手机数码"</span>, <span class="string">"电子产品"</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> <span class="keyword">category</span> <span class="keyword">values</span>(<span class="literal">null</span>, <span class="string">"鞋靴箱包"</span>, <span class="string">"江南皮鞋厂打造"</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> <span class="keyword">category</span> <span class="keyword">values</span>(<span class="literal">null</span>, <span class="string">"香烟酒水"</span>, <span class="string">"芙蓉王，茅台"</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> <span class="keyword">category</span> <span class="keyword">values</span>(<span class="literal">null</span>, <span class="string">"酸奶饼干"</span>, <span class="string">"哇哈哈"</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> <span class="keyword">category</span> <span class="keyword">values</span>(<span class="literal">null</span>, <span class="string">"馋嘴零食"</span>, <span class="string">"瓜子花生"</span>);</span><br></pre></td></tr></table></figure>

<p>现在这个表的结构为：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from category;</span><br><span class="line">+-----+--------------+-----------------------+</span><br><span class="line">| cid | cname        | cdesc                 |</span><br><span class="line">+-----+--------------+-----------------------+</span><br><span class="line">|   1 | 手机数码     | 电子产品              |</span><br><span class="line">|   2 | 鞋靴箱包     | 江南皮鞋厂打造        |</span><br><span class="line">|   3 | 香烟酒水     | 芙蓉王，茅台          |</span><br><span class="line">|   4 | 酸奶饼干     | 哇哈哈                |</span><br><span class="line">|   5 | 馋嘴零食     | 瓜子花生              |</span><br><span class="line">+-----+--------------+-----------------------+</span><br><span class="line">5 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<p>对于指定列的查询：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select cname,cdesc from category;</span><br><span class="line">+--------------+-----------------------+</span><br><span class="line">| cname        | cdesc                 |</span><br><span class="line">+--------------+-----------------------+</span><br><span class="line">| 手机数码     | 电子产品              |</span><br><span class="line">| 鞋靴箱包     | 江南皮鞋厂打造        |</span><br><span class="line">| 香烟酒水     | 芙蓉王，茅台          |</span><br><span class="line">| 酸奶饼干     | 哇哈哈                |</span><br><span class="line">| 馋嘴零食     | 瓜子花生              |</span><br><span class="line">+--------------+-----------------------+</span><br><span class="line">5 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<p>再来创建一张商品的表，商品和商品分类的关系为所属关系:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> product(</span><br><span class="line">  pid <span class="built_in">int</span> primary <span class="keyword">key</span> auto_increment,</span><br><span class="line">  pname <span class="built_in">varchar</span>(<span class="number">25</span>),</span><br><span class="line">  price <span class="keyword">double</span>, // 价格</span><br><span class="line">  pdate <span class="built_in">timestamp</span>, // 生产日期</span><br><span class="line">  cno <span class="built_in">int</span> // 商品分类的<span class="keyword">id</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>插入一些数据：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> product <span class="keyword">values</span>(<span class="literal">null</span>, <span class="string">"小米mix2s"</span>, <span class="number">2700</span>, <span class="keyword">current_timestamp</span>, <span class="number">1</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> product <span class="keyword">values</span>(<span class="literal">null</span>, <span class="string">"华为p30"</span>, <span class="number">4788</span>, <span class="keyword">current_timestamp</span>, <span class="number">1</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> product <span class="keyword">values</span>(<span class="literal">null</span>, <span class="string">"阿迪王"</span>, <span class="number">99</span>, <span class="keyword">current_timestamp</span>, <span class="number">2</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> product <span class="keyword">values</span>(<span class="literal">null</span>, <span class="string">"老村长"</span>, <span class="number">88</span>, <span class="keyword">current_timestamp</span>, <span class="number">3</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> product <span class="keyword">values</span>(<span class="literal">null</span>, <span class="string">"劲酒"</span>, <span class="number">35</span>, <span class="keyword">current_timestamp</span>, <span class="number">3</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> product <span class="keyword">values</span>(<span class="literal">null</span>, <span class="string">"小熊饼干"</span>, <span class="number">3</span>, <span class="keyword">current_timestamp</span>, <span class="number">4</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> product <span class="keyword">values</span>(<span class="literal">null</span>, <span class="string">"卫龙辣条"</span>, <span class="number">1</span>, <span class="keyword">current_timestamp</span>, <span class="number">5</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> product <span class="keyword">values</span>(<span class="literal">null</span>, <span class="string">"旺旺雪饼"</span>, <span class="number">2</span>, <span class="keyword">current_timestamp</span>, <span class="number">5</span>);</span><br></pre></td></tr></table></figure>

<p>当前product表为：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from product;</span><br><span class="line">+-----+--------------+-------+---------------------+------+</span><br><span class="line">| pid | pname        | price | pdate               | cno  |</span><br><span class="line">+-----+--------------+-------+---------------------+------+</span><br><span class="line">|   4 | 小米mix2s    |  2700 | 2019-04-14 13:14:31 |    1 |</span><br><span class="line">|   5 | 华为p30      |  4788 | 2019-04-14 13:14:32 |    1 |</span><br><span class="line">|   6 | 阿迪王       |    99 | 2019-04-14 13:14:32 |    2 |</span><br><span class="line">|   7 | 老村长       |    88 | 2019-04-14 13:14:32 |    3 |</span><br><span class="line">|   8 | 劲酒         |    35 | 2019-04-14 13:14:32 |    3 |</span><br><span class="line">|   9 | 小熊饼干     |     3 | 2019-04-14 13:14:32 |    4 |</span><br><span class="line">|  10 | 卫龙辣条     |     1 | 2019-04-14 13:14:32 |    5 |</span><br><span class="line">|  11 | 旺旺雪饼     |     1 | 2019-04-14 13:14:32 |    5 |</span><br><span class="line">+-----+--------------+-------+---------------------+------+</span><br><span class="line">8 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<ul>
<li><p>简单查询</p>
<ul>
<li><p>查询所有商品: </p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select * from product;</span><br></pre></td></tr></table></figure>
</li>
<li><p>查询商品名称和价格</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select pname,price from product;</span><br></pre></td></tr></table></figure>
</li>
<li><p>别名查询. <code>as</code>关键字， as可以省略</p>
<ul>
<li><p>表别名, <code>select p.pname, p.price from product as p</code>（主要用于多表查询）</p>
  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> p.pname, p.price <span class="keyword">from</span> product <span class="keyword">as</span> p;</span><br></pre></td></tr></table></figure>
</li>
<li><p>列别名, <code>select pname as 商品名称, price as 商品价格 from product;</code></p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select pname as 商品名称, price as 商品价格 from product;</span><br><span class="line">+--------------+--------------+</span><br><span class="line">| 商品名称     | 商品价格     |</span><br><span class="line">+--------------+--------------+</span><br><span class="line">| 小米mix2s    |         2700 |</span><br><span class="line">| 华为p30      |         4788 |</span><br><span class="line">| 阿迪王       |           99 |</span><br><span class="line">| 老村长       |           88 |</span><br><span class="line">| 劲酒         |           35 |</span><br><span class="line">| 小熊饼干     |            3 |</span><br><span class="line">| 卫龙辣条     |            1 |</span><br><span class="line">| 旺旺雪饼     |            1 |</span><br><span class="line">+--------------+--------------+</span><br><span class="line">8 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<p>  可以看到，输出的列别名已经发生了更改。</p>
</li>
</ul>
</li>
<li><p>去掉重复的值</p>
<ul>
<li><p>查询商品所有的价格:</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select price from product;</span><br><span class="line">+-------+</span><br><span class="line">| price |</span><br><span class="line">+-------+</span><br><span class="line">|  2700 |</span><br><span class="line">|  4788 |</span><br><span class="line">|    99 |</span><br><span class="line">|    88 |</span><br><span class="line">|    35 |</span><br><span class="line">|     3 |</span><br><span class="line">|     1 |</span><br><span class="line">|     1 |</span><br><span class="line">+-------+</span><br><span class="line">8 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<p>  输出的值有些是重复的，那么我们可以引入distinct来去掉重复的值：</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select distinct price from product;</span><br><span class="line">+-------+</span><br><span class="line">| price |</span><br><span class="line">+-------+</span><br><span class="line">|  2700 |</span><br><span class="line">|  4788 |</span><br><span class="line">|    99 |</span><br><span class="line">|    88 |</span><br><span class="line">|    35 |</span><br><span class="line">|     3 |</span><br><span class="line">|     1 |</span><br><span class="line">+-------+</span><br><span class="line">7 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>select查询运算</p>
<p>  假设我们现在所有的商品都要打8折，那么可以这样查询输出:</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select *,price*0.8 from product;</span><br><span class="line">+-----+--------------+-------+---------------------+------+--------------------+</span><br><span class="line">| pid | pname        | price | pdate               | cno  | price*0.8          |</span><br><span class="line">+-----+--------------+-------+---------------------+------+--------------------+</span><br><span class="line">|   4 | 小米mix2s    |  2700 | 2019-04-14 13:14:31 |    1 |               2160 |</span><br><span class="line">|   5 | 华为p30      |  4788 | 2019-04-14 13:14:32 |    1 |             3830.4 |</span><br><span class="line">|   6 | 阿迪王       |    99 | 2019-04-14 13:14:32 |    2 |               79.2 |</span><br><span class="line">|   7 | 老村长       |    88 | 2019-04-14 13:14:32 |    3 |               70.4 |</span><br><span class="line">|   8 | 劲酒         |    35 | 2019-04-14 13:14:32 |    3 |                 28 |</span><br><span class="line">|   9 | 小熊饼干     |     3 | 2019-04-14 13:14:32 |    4 | 2.4000000000000004 |</span><br><span class="line">|  10 | 卫龙辣条     |     1 | 2019-04-14 13:14:32 |    5 |                0.8 |</span><br><span class="line">|  11 | 旺旺雪饼     |     1 | 2019-04-14 13:14:32 |    5 |                0.8 |</span><br><span class="line">+-----+--------------+-------+---------------------+------+--------------------+</span><br><span class="line">8 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<p>  可以加一个列别名:</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select *,price*0.8 as 8折折后价 from product;</span><br><span class="line">+-----+--------------+-------+---------------------+------+--------------------+</span><br><span class="line">| pid | pname        | price | pdate               | cno  | 8折折后价          |</span><br><span class="line">+-----+--------------+-------+---------------------+------+--------------------+</span><br><span class="line">|   4 | 小米mix2s    |  2700 | 2019-04-14 13:14:31 |    1 |               2160 |</span><br><span class="line">|   5 | 华为p30      |  4788 | 2019-04-14 13:14:32 |    1 |             3830.4 |</span><br><span class="line">|   6 | 阿迪王       |    99 | 2019-04-14 13:14:32 |    2 |               79.2 |</span><br><span class="line">|   7 | 老村长       |    88 | 2019-04-14 13:14:32 |    3 |               70.4 |</span><br><span class="line">|   8 | 劲酒         |    35 | 2019-04-14 13:14:32 |    3 |                 28 |</span><br><span class="line">|   9 | 小熊饼干     |     3 | 2019-04-14 13:14:32 |    4 | 2.4000000000000004 |</span><br><span class="line">|  10 | 卫龙辣条     |     1 | 2019-04-14 13:14:32 |    5 |                0.8 |</span><br><span class="line">|  11 | 旺旺雪饼     |     1 | 2019-04-14 13:14:32 |    5 |                0.8 |</span><br><span class="line">+-----+--------------+-------+---------------------+------+--------------------+</span><br><span class="line">8 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<p>  上述的输出，其实<strong>并不改变库内的数据，仅仅是在查询结果上做了运算</strong>。</p>
</li>
<li><p>where关键字进行条件查询</p>
<p>  指定条件，确定要查询记录</p>
<ul>
<li><p>查询价格大于60的商品：<code>select * from where price &gt; 60;</code></p>
</li>
<li><p>where后的关系运算符：<code>&gt; &gt;= &lt; &lt;= = != &lt;&gt;</code> &lt;&gt;和!=都为不等于，区别在于&lt;&gt;是标准sql语法而!=是非标准的sql语法</p>
</li>
<li><p>where后的逻辑运算符： <code>and, or, not</code>，判断某一列是否为空: <code>is null</code>, <code>is not null</code></p>
</li>
<li><p>查询价格大于10并且小于100的商品: <code>select * from product where price &lt; 100 and price &gt; 10;</code><br>也可以使用<code>between...and...</code>,<code>select * from product where price between 10 and 100;</code></p>
</li>
<li><p>like 模糊查询</p>
<ul>
<li><p><code>_</code>代表的是一个字符</p>
</li>
<li><p><code>%</code>代表的是多个字符</p>
</li>
<li><p>查询出商品名称中带有”小”的所有商品：<code>select * from product where pname like &quot;%小%&quot;;</code></p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from product where pname like &quot;%小%&quot;;</span><br><span class="line">+-----+--------------+-------+---------------------+------+</span><br><span class="line">| pid | pname        | price | pdate               | cno  |</span><br><span class="line">+-----+--------------+-------+---------------------+------+</span><br><span class="line">|   4 | 小米mix2s    |  2700 | 2019-04-14 13:14:31 |    1 |</span><br><span class="line">|   9 | 小熊饼干     |     3 | 2019-04-14 13:14:32 |    4 |</span><br><span class="line">+-----+--------------+-------+---------------------+------+</span><br><span class="line">2 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>
</li>
<li><p>查询名字第二个字是’熊’的商品:<code>select * from product where pname like &quot;_熊%&quot;;</code></p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from product where pname like &quot;_熊%&quot;;</span><br><span class="line">+-----+--------------+-------+---------------------+------+</span><br><span class="line">| pid | pname        | price | pdate               | cno  |</span><br><span class="line">+-----+--------------+-------+---------------------+------+</span><br><span class="line">|   9 | 小熊饼干     |     3 | 2019-04-14 13:14:32 |    4 |</span><br><span class="line">+-----+--------------+-------+---------------------+------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>in 在某个范围中获得值</p>
<ul>
<li>查询出商品分类id在1,4,5里面的所有商品<code>select * from product where cno in (1,4,5);</code></li>
</ul>
</li>
</ul>
</li>
<li><p>排序查询：order by 关键字. 关键字: asc(ascend升序,为默认值), desc(descend降序).</p>
<ul>
<li>查询所有商品进行按价格降序排列: <code>select * from product order by price desc;</code></li>
<li>查询商品名称中含有”小”的所有商品并且进行按价格降序排列: <code>select * from product where pname like &quot;%小%&quot; order by price desc;</code></li>
</ul>
</li>
</ul>
</li>
<li><p>复杂查询</p>
<ul>
<li><p>聚合函数：</p>
<p>函数 | 作用<br>sum() | 求和<br>count() | 统计数量<br>max() | 最大值<br>min() | 最小值<br>avg() | 平均值</p>
</li>
<li><p>获得所有商品价格的总和：<code>select sum(price) from product;</code></p>
</li>
<li><p>获得所有商品价格的平均值：<code>select avg(price) from product;</code></p>
</li>
<li><p>获得所有商品的个数：<code>select count(*) from product;</code></p>
<blockquote>
<p>需要注意的是：<strong>where后面不能接聚合函数！</strong></p>
</blockquote>
<p>由于where后面不能加聚合函数，所以如果想要查询到价格大于平均价格的所有商品时。需要这么写（子查询）:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> product <span class="keyword">where</span> price &gt; (<span class="keyword">select</span> <span class="keyword">avg</span>(price) <span class="keyword">from</span> product);</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from product where price &gt; (select avg(price) from product);</span><br><span class="line">+-----+-------------+-------+---------------------+------+</span><br><span class="line">| pid | pname       | price | pdate               | cno  |</span><br><span class="line">+-----+-------------+-------+---------------------+------+</span><br><span class="line">|   4 | 小米mix2s   |  2700 | 2019-04-14 13:14:31 |    1 |</span><br><span class="line">|   5 | 华为p30     |  4788 | 2019-04-14 13:14:32 |    1 |</span><br><span class="line">+-----+-------------+-------+---------------------+------+</span><br><span class="line">2 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>
</li>
<li><p>分组： group by</p>
<ul>
<li><p>根据cno字段去进行分组，统计各个种类商品的个数：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> cno <span class="keyword">as</span> 商品种类,<span class="keyword">count</span>(*) <span class="keyword">as</span> 商品个数 <span class="keyword">from</span> product <span class="keyword">group</span> <span class="keyword">by</span> cno;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select cno as 商品种类,count(*) as 商品个数 from product group by cno;</span><br><span class="line">+--------------+--------------+</span><br><span class="line">| 商品种类     | 商品个数     |</span><br><span class="line">+--------------+--------------+</span><br><span class="line">|            1 |            2 |</span><br><span class="line">|            2 |            1 |</span><br><span class="line">|            3 |            2 |</span><br><span class="line">|            4 |            1 |</span><br><span class="line">|            5 |            2 |</span><br><span class="line">+--------------+--------------+</span><br><span class="line">5 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<ul>
<li>根据cno分组，分组统计每组商品的平均价格，并且商品平均价格&gt;60<br>直接根据cno分组，分组统计每组商品的平均价格可以这样写：<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> cno <span class="keyword">as</span> 商品种类, <span class="keyword">avg</span>(price) <span class="keyword">as</span> 平均价格 <span class="keyword">from</span> product <span class="keyword">group</span> <span class="keyword">by</span> cno;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select cno as 商品种类, avg(price) as 平均价格 from product group by cno;</span><br><span class="line">+--------------+--------------+</span><br><span class="line">| 商品种类     | 平均价格     |</span><br><span class="line">+--------------+--------------+</span><br><span class="line">|            1 |         3744 |</span><br><span class="line">|            2 |           99 |</span><br><span class="line">|            3 |         61.5 |</span><br><span class="line">|            4 |            3 |</span><br><span class="line">|            5 |            1 |</span><br><span class="line">+--------------+--------------+</span><br><span class="line">5 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<p>还有过滤掉平均价格不大于60的商品，要使用<code>having</code>关键字：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> cno <span class="keyword">as</span> 商品种类, <span class="keyword">avg</span>(price) <span class="keyword">as</span> 平均价格 <span class="keyword">from</span> product <span class="keyword">group</span> <span class="keyword">by</span> cno <span class="keyword">having</span> <span class="keyword">avg</span>(price) &gt; <span class="number">60</span>;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select cno as 商品种类, avg(price) as 平均价格 from product group by cno having avg(price) &gt; 60;</span><br><span class="line">+--------------+--------------+</span><br><span class="line">| 商品种类     | 平均价格     |</span><br><span class="line">+--------------+--------------+</span><br><span class="line">|            1 |         3744 |</span><br><span class="line">|            2 |           99 |</span><br><span class="line">|            3 |         61.5 |</span><br><span class="line">+--------------+--------------+</span><br><span class="line">3 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>having关键字，可以接聚合函数，并且出现在分组之后</p>
</blockquote>
<blockquote>
<p>where关键字，不可以接聚合函数，并且出现在分组之前</p>
</blockquote>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="sql语句的编写顺序和执行顺序"><a href="#sql语句的编写顺序和执行顺序" class="headerlink" title="sql语句的编写顺序和执行顺序"></a>sql语句的编写顺序和执行顺序</h4><ul>
<li>编写顺序：<br>select … from … where … group by … having … order by …</li>
<li>执行顺序：<br>from … where … group by … having … select … order by …</li>
</ul>

        </div>
      </div>
    </div>
  </div>
</article>



    <!-- Footer -->
<footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <p class="copyright text-muted">
          Theme By <a target="_blank" href="https://github.com/levblanc">Levblanc.</a>
          Inspired By <a target="_blank" href="https://github.com/klugjo/hexo-theme-clean-blog">Clean Blog.</a>
        <p class="copyright text-muted">
          Powered By <a target="_blank" href="https://hexo.io/">Hexo.</a>
        </p>
      </div>
    </div>
  </div>
</footer>


    <!-- After Footer Scripts -->
<script src="/js/highlight.pack.js"></script>
<script>
  document.addEventListener("DOMContentLoaded", function(event) {
    var codeBlocks = Array.prototype.slice.call(document.getElementsByTagName('pre'))
    codeBlocks.forEach(function(block, index) {
      hljs.highlightBlock(block);
    });
  });
</script>

  </body>
</html>

